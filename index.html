<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mr. Beast Civilization Roster - Brought to you by F.U.N.</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <div class="title-and-counters">
      <h1>
        Mr. Beast Civilization Roster - Brought to you by
        <a href="https://discord.gg/xhpqQ8ja" target="_blank" rel="noopener noreferrer">F.U.N.</a>
        <a href="https://discord.gg/xhpqQ8ja" target="_blank" rel="noopener noreferrer" aria-label="Join the F.U.N. Discord">
          <img src="assets/discord.png" alt="" style="width:22px;height:22px;vertical-align:-3px;margin-left:6px;">
        </a>
      </h1>
      <div class="counters" aria-live="polite">
        <div class="counter">
          <div class="counter-line"><span>Boys:</span> <strong id="count-boys">0</strong></div>
          <div class="counter-sub">Alive: <strong id="alive-boys">0</strong></div>
        </div>
        <div class="counter">
          <div class="counter-line"><span>Girls:</span> <strong id="count-girls">0</strong></div>
          <div class="counter-sub">Alive: <strong id="alive-girls">0</strong></div>
        </div>
      </div>
    </div>

    <div class="toolbar">
      <input id="search" class="search" type="search" placeholder="Search player..." aria-label="Search player" />

      <select id="factionFilter" class="filter" aria-label="Filter by faction">
        <option value="">All factions</option>
      </select>

      <!-- New Team filter segmented toggle -->
      <div class="segmented team-filter" role="group" aria-label="Filter by Team">
        <input type="radio" name="teamFilter" id="team-all" value="" checked>
        <label for="team-all">All</label>
        <input type="radio" name="teamFilter" id="team-boy" value="boy">
        <label for="team-boy">Boys</label>
        <input type="radio" name="teamFilter" id="team-girl" value="girl">
        <label for="team-girl">Girls</label>
        <input type="radio" name="teamFilter" id="team-unknown" value="unknown">
        <label for="team-unknown">Unknown</label>
      </div>

      <label class="leaders-toggle">
        <input id="leadersOnly" type="checkbox" />
        Only show leaders
      </label>
    </div>
  </header>

  <main>
    <div id="grid" class="grid" aria-live="polite"></div>
  </main>

  <!-- Card template -->
  <template id="cardTemplate">
    <div class="card" tabindex="0">
      <img class="badge-blueorder" alt="Blue Order badge" aria-hidden="true" />
      <div class="row">
        <button class="head-btn" aria-label="Edit player">
          <img class="head" alt="" loading="lazy" />
        </button>
        <div class="meta">
          <div class="name" aria-label=""></div>
          <div class="faction-tag" aria-hidden="true"></div>
        </div>
      </div>
    </div>
  </template>

  <!-- Modal -->
  <dialog id="editorModal" class="modal">
    <form method="dialog" class="modal-card" id="modalForm">
      <h2 id="modalTitle">Edit</h2>

      <div class="form-grid">
        <div class="field">
          <label>Team</label>
          <div class="segmented">
            <input type="radio" name="gender" id="g-boy" value="boy">
            <label for="g-boy">Boy</label>
            <input type="radio" name="gender" id="g-girl" value="girl">
            <label for="g-girl">Girl</label>
            <input type="radio" name="gender" id="g-none" value="">
            <label for="g-none">Unknown</label>
          </div>
        </div>

        <div class="field">
          <label>Status</label>
          <div class="segmented">
            <input type="radio" name="status" id="s-alive" value="alive">
            <label for="s-alive">Alive</label>
            <input type="radio" name="status" id="s-dead" value="dead">
            <label for="s-dead">Dead</label>
          </div>
        </div>

        <div class="field">
          <label for="modalFaction">Faction</label>
          <select id="modalFaction" class="select"></select>
        </div>

        <div class="field">
          <label>Leader?</label>
          <div class="segmented">
            <input type="radio" name="leader" id="leader-yes" value="true">
            <label for="leader-yes">Yes</label>
            <input type="radio" name="leader" id="leader-no" value="false">
            <label for="leader-no">No</label>
          </div>
        </div>

        <div class="field">
          <label>2nd in Command?</label>
          <div class="segmented">
            <input type="radio" name="deputy" id="deputy-yes" value="true">
            <label for="deputy-yes">Yes</label>
            <input type="radio" name="deputy" id="deputy-no" value="false">
            <label for="deputy-no">No</label>
          </div>
        </div>

        <div class="field field-span">
          <label for="modalAllegiances">Allegiances (select one or more)</label>
          <select id="modalAllegiances" class="select" multiple size="7" aria-label="Allegiances"></select>
          <small class="muted">Hold Ctrl/Cmd (or tap) to select multiple.</small>
        </div>

        <div class="field">
          <label>Wear the Blue Order badge?</label>
          <div class="segmented">
            <input type="radio" name="blueOrder" id="blueorder-yes" value="true">
            <label for="blueorder-yes">Yes</label>
            <input type="radio" name="blueOrder" id="blueorder-no" value="false">
            <label for="blueorder-no">No</label>
          </div>
        </div>
      </div>

      <div class="actions">
        <button value="cancel" class="btn btn-ghost">Cancel</button>
        <button id="saveBtn" value="confirm" class="btn">Save</button>
      </div>
    </form>
  </dialog>

  <footer class="site-footer">
    <p>Faction is shown on each card. Hover to see main faction + any allegiances. Click a playerâ€™s head to edit.</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
